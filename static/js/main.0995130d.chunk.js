(this.webpackJsonpflowchart_editor=this.webpackJsonpflowchart_editor||[]).push([[0],{76:function(e,t,n){"use strict";n.r(t);var i,r=n(0),o=n(24),c=n.n(o),a=n(18),s=n(27),d=n(48),h=n(19),l=n(13),u=n(12);function b(e){var t=e.graphRef,n=Object(r.useRef)(null);return Object(r.useEffect)((function(){t.current=new l.c({container:n.current,width:800,height:500,background:{color:"#F7FBFF"},interacting:{nodeMovable:!1}})}),[]),Object(u.jsx)(j,{ref:n})}var g,f,j=h.b.div(i||(i=Object(a.a)(["\n  border: 3px solid lightgrey;\n  border-radius: 10px;\n  box-shadow: 0 8px 5px rgba(0, 0, 0, 0.1);\n"]))),p=n(21),O=n(1),x=n(81),v=n(80);function y(e){var t=e.onDelete,n=e.children,i=Object(r.useRef)();return Object(u.jsxs)(m,{onMouseEnter:function(){i.current.style.display="block"},onMouseLeave:function(){i.current.style.display="none"},children:[n,Object(u.jsx)(k,{onClick:t,ref:i,icon:Object(u.jsx)(x.a,{})})]})}var w,m=h.b.div(g||(g=Object(a.a)(["\n  // border: 3px dashed purple; \n  width: 100%; \n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]))),k=Object(h.b)(v.a)(f||(f=Object(a.a)(["\n  position: absolute;\n  right: 0%;\n  transform: translateX(15px);\n  width: 2rem;\n  height: 2rem;\n  border-radius: 50%;\n  display: none;\n  transition: 100ms all ease-in-out;\n  border: 1px solid lightgrey;\n  background-color: white;\n  cursor: pointer;\n\n  &:hover {\n    color: #1890FF;\n    border-color: #1890FF;\n  }\n"]))),F=function e(t){if(Object(O.a)(this,e),this.width=250,this.height=70,t){var n=t.position(),i=n.x,r=n.y,o=t.size().width;this.x=i+(o-this.width)/2,this.y=r}else this.x=250,this.y=125;this.shape="react-shape",this.id="empty",this.component=function(e){return Object(u.jsx)(y,{onDelete:function(){},children:Object(u.jsx)(N,{children:"\u8bf7\u5c06\u5de6\u4fa7\u670d\u52a1\u6216\u5173\u7cfb\u62d6\u5165\u6846\u5185"})})}},N=h.b.div(w||(w=Object(a.a)(["\n  width: 80%;\n  height: 100%;\n  border: 2px dashed grey;\n  font-size: small;\n  color: grey;\n  padding: 1px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]))),R={shape:"circle",width:50,height:50,attrs:{body:{stroke:"lightgrey",strokeWidth:1}}};var E,C,B,I,z=n(44),D=function e(t,n,i){Object(O.a)(this,e);var r=t.position(),o=r.x,c=r.y,a=t.size().width;this.shape="react-shape",this.width=220,this.height=35,this.x=o+(a-this.width)/2,this.y=c,this.id="singleNode",this.component=function(e){return Object(u.jsx)(y,{onDelete:function(){return i(e)},children:Object(u.jsx)(G,{children:n})})}},G=h.b.div(E||(E=Object(a.a)(["\n  width: 170px;\n  height: 35px;\n  background: white;\n  border: 1px solid #1890FF;\n  color: black;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border-radius: 30px;\n"]))),H=n(3),M=n(4),W=n(2),_=function(){function e(){Object(O.a)(this,e),this.titles=[],this.groupName="",this.Component=Object(u.jsx)(u.Fragment,{})}return Object(W.a)(e,[{key:"init",value:function(){this.nodes=[];for(var e=0;e<this.titles.length;e++){var t=this.titles[e],n=new d.a({width:170,height:35,data:{title:t},shape:"react-shape",component:Object(u.jsx)(this.Component,{children:t})});this.nodes.push(n)}}},{key:"load",value:function(e){e.load(this.nodes,this.groupName)}}]),e}(),S=function(e){Object(H.a)(n,e);var t=Object(M.a)(n);function n(){var e;return Object(O.a)(this,n),(e=t.call(this)).titles=["\u5e76\u884c\u8282\u70b9","\u6761\u4ef6\u8282\u70b9"],e.groupName="\u5173\u7cfb\u8282\u70b9",e.Component=T,e.init(),e}return n}(_),T=h.b.div(C||(C=Object(a.a)(["\n  width: 100%;\n  height: 100%;\n  background: white;\n  border: 2px dashed lightgrey;\n  color: black;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border-radius: 5px;\n"]))),J=function(e){Object(H.a)(n,e);var t=Object(M.a)(n);function n(){var e;return Object(O.a)(this,n),(e=t.call(this)).titles=["\u4eba\u8138\u76f8\u5173\u80fd\u529b","text_lang","\u6587\u672c\u6821\u5bf9","IFOCR","\u6d4b\u8bd5\u81ea\u5b9a\u4e49\u7528\u4f8b"],e.groupName="\u8baf\u98de\u670d\u52a1",e.Component=A,e.init(),e}return n}(_),A=h.b.div(B||(B=Object(a.a)(["\n  width: 100%;\n  height: 100%;\n  background: white;\n  border: 1px solid lightgrey;\n  color: black;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border-radius: 30px;\n"])));function L(e){var t=e.graphRef,n=e.stencilRef,i=Object(r.useRef)(null);return Object(r.useEffect)((function(){if(t.current){var e=new l.a.Stencil({title:"Components",target:t.current,search:function(e,t){return-1!==e.shape.indexOf(t)},placeholder:"\u5168\u90e8\u670d\u52a1/\u8282\u70b9",notFoundText:"Not Found",collapsable:!0,stencilGraphWidth:230,stencilGraphHeight:100,layoutOptions:{columns:1,dx:0,dy:0,center:!0,columnWidth:200,rowHeight:50},stencilGraphOptions:{background:{color:"#ffffff"}},groups:[{name:"\u5173\u7cfb\u8282\u70b9",title:"\u5173\u7cfb\u8282\u70b9"},{name:"\u8baf\u98de\u670d\u52a1",title:"\u8baf\u98de\u670d\u52a1",graphHeight:300}],validateNode:function(e,n){var i,r=t.current,o=Object(z.a)(r.getNodes());try{for(o.s();!(i=o.n()).done;){var c=i.value;if("empty"===c.id){var a=c.getBBox();if(e.getBBox().isIntersectWithRect(a)&&0===c.getChildCount()){var s=e.getData().title,d=new D(c,s,(function(e){var t=r.addNode(new F);r.getIncomingEdges(e)[0].setTarget(t),r.getOutgoingEdges(e)[0].setSource(t),r.removeNode(e)})),h=r.addNode(d);return r.getIncomingEdges(c)[0].setTarget(h),r.getOutgoingEdges(c)[0].setSource(h),r.removeNode(c),!1}}}}catch(l){o.e(l)}finally{o.f()}return!1}});n.current=e,i.current.appendChild(e.container),(new J).load(e),(new S).load(e)}}),[]),Object(u.jsx)(q,{ref:i})}var P,X,q=h.b.div(I||(I=Object(a.a)(["\n  width: 230px;\n  border: 1px solid #f0f0f0;\n  position: relative; /* !!! */\n"])));function K(){var e=Object(d.b)("GRAPH_1"),t=Object(s.a)(e,2),n=t[0],i=t[1],o=Object(r.useRef)(null),c=Object(r.useRef)(null);return Object(r.useEffect)((function(){!function(e){var t=e.addNode(Object(p.a)(Object(p.a)({},R),{},{x:350,y:30,attrs:{label:{text:"\u5f00\u59cb"}}})),n=e.addNode(Object(p.a)(Object(p.a)({},R),{},{x:350,y:140,attrs:{label:{text:"\u7ed3\u675f"}}})),i=e.addNode(Object(p.a)(Object(p.a)({},R),{},{id:"plus",x:367,y:80,width:13,height:13,attrs:{label:{text:"+"}}})),r={attrs:{line:{stroke:"#1890FF",sourceMarker:"circle"}}};e.addEdge(Object(p.a)(Object(p.a)({},r),{},{source:i,target:n})),e.on("node:click",(function(o){if("plus"===o.node.id){var c=e.addNode(new F);n.translate(void 0,100),i.hide(),e.addEdge(Object(p.a)(Object(p.a)({},r),{},{source:t,target:c})),e.addEdge(Object(p.a)(Object(p.a)({},r),{},{source:c,target:n}))}}))}(o.current),i(o.current)}),[n]),Object(u.jsxs)(U,{children:[Object(u.jsx)(Q,{}),Object(u.jsx)(b,{graphRef:o}),Object(u.jsx)(L,{graphRef:o,stencilRef:c})]})}var Q=Object(h.a)(P||(P=Object(a.a)(["\n  * {\n    box-sizing: border-box;\n    padding: 0;\n    margin: 0;\n  }\n"]))),U=h.b.div(X||(X=Object(a.a)(["\n  display: flex;\n  justify-content: center;\n  flex-direction: row-reverse;\n  width: 100%;\n"])));function V(){return Object(u.jsx)(K,{})}c.a.render(Object(u.jsx)(V,{}),document.getElementById("root"))}},[[76,1,2]]]);
//# sourceMappingURL=main.0995130d.chunk.js.map