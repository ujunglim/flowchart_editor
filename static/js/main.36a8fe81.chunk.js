(this.webpackJsonpflowchart_editor=this.webpackJsonpflowchart_editor||[]).push([[0],{76:function(e,t,n){"use strict";n.r(t);var r,i=n(0),a=n(24),o=n.n(a),c=n(18),s=n(27),d=n(48),l=n(19),h=n(12),u=n(14);function b(e){var t=e.graphRef,n=Object(i.useRef)(null);return Object(i.useEffect)((function(){t.current=new h.c({container:n.current,width:800,height:500,background:{color:"#F7FBFF"},interacting:{nodeMovable:!1}})}),[]),Object(u.jsx)(g,{ref:n})}var f,j,p,g=l.a.div(r||(r=Object(c.a)(["\n  border: 3px solid lightgrey;\n  border-radius: 10px;\n  box-shadow: 0 8px 5px rgba(0, 0, 0, 0.1);\n"]))),O=n(21),x=n(1),v=n(81),y=n(80);function w(e){var t=e.onDelete,n=Object(i.useRef)(),r=Object(i.useRef)();Object(i.useEffect)((function(){n.current.addEventListener("fit",(function(){n.current.style.border="none"}))}),[]);return Object(u.jsx)(m,{ref:n,children:Object(u.jsxs)(k,{onMouseEnter:function(){r.current.style.display="inline"},onMouseLeave:function(){r.current.style.display="none"},children:["\u8bf7\u5c06\u5de6\u4fa7\u670d\u52a1\u6216\u5173\u7cfb\u62d6\u5165\u6846\u5185",Object(u.jsx)(R,{onClick:t,ref:r,icon:Object(u.jsx)(v.a,{})})]})})}var m=l.a.div(f||(f=Object(c.a)(["\n  width: 100%;\n  height: 100%;\n  border: 2px dashed grey;\n  font-size: small;\n  color: grey;\n"]))),k=l.a.div(j||(j=Object(c.a)(["\n  /* border: 3px dashed purple; */\n  width: 130%; \n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  position: relative;\n  transform: translateX(-13%);\n"]))),R=Object(l.a)(y.a)(p||(p=Object(c.a)(["\n  position: absolute;\n  right: 0%;\n  transform: translateX(15px);\n  width: 2rem;\n  height: 2rem;\n  border-radius: 50%;\n  display: none;\n  transition: 100ms all ease-in-out;\n  border: 1px solid lightgrey;\n  background-color: white;\n  cursor: pointer;\n\n  &:hover {\n    color: #1890FF;\n    border-color: #1890FF;\n  }\n"]))),F=function e(t){Object(x.a)(this,e),this.shape="react-shape",this.x=275,this.y=125,this.width=200,this.height=70,this.id="empty",this.component=Object(u.jsx)(w,{onDelete:t})},E={shape:"circle",width:50,height:50,attrs:{body:{stroke:"lightgrey",strokeWidth:1}}};var N,C,B,H=n(44),M=n(3),W=n(4),_=n(2),z=function(){function e(){Object(x.a)(this,e),this.titles=[],this.groupName="",this.Component=Object(u.jsx)(u.Fragment,{})}return Object(_.a)(e,[{key:"init",value:function(){this.nodes=[];for(var e=0;e<this.titles.length;e++){var t=this.titles[e],n=new d.a({width:170,height:35,shape:"react-shape",component:Object(u.jsx)(this.Component,{children:t})});this.nodes.push(n)}}},{key:"load",value:function(e){e.load(this.nodes,this.groupName)}}]),e}(),G=function(e){Object(M.a)(n,e);var t=Object(W.a)(n);function n(){var e;return Object(x.a)(this,n),(e=t.call(this)).titles=["\u5e76\u884c\u8282\u70b9","\u6761\u4ef6\u8282\u70b9"],e.groupName="\u5173\u7cfb\u8282\u70b9",e.Component=I,e.init(),e}return n}(z),I=l.a.div(N||(N=Object(c.a)(["\n  width: 100%;\n  height: 100%;\n  background: white;\n  border: 2px dashed lightgrey;\n  color: black;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border-radius: 5px;\n"]))),D=function(e){Object(M.a)(n,e);var t=Object(W.a)(n);function n(){var e;return Object(x.a)(this,n),(e=t.call(this)).titles=["\u4eba\u8138\u76f8\u5173\u80fd\u529b","text_lang","\u6587\u672c\u6821\u5bf9","IFOCR","\u6d4b\u8bd5\u81ea\u5b9a\u4e49\u7528\u4f8b"],e.groupName="\u8baf\u98de\u670d\u52a1",e.Component=J,e.init(),e}return n}(z),J=l.a.div(C||(C=Object(c.a)(["\n  width: 100%;\n  height: 100%;\n  background: white;\n  border: 1px solid lightgrey;\n  color: black;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border-radius: 30px;\n"])));function L(e){var t=e.graphRef,n=e.stencilRef,r=Object(i.useRef)(null);return Object(i.useEffect)((function(){if(t.current){var e=new h.a.Stencil({title:"Components",target:t.current,search:function(e,t){return-1!==e.shape.indexOf(t)},placeholder:"\u5168\u90e8\u670d\u52a1/\u8282\u70b9",notFoundText:"Not Found",collapsable:!0,stencilGraphWidth:200,stencilGraphHeight:100,layoutOptions:{columns:1,dx:0,dy:0,center:!0,columnWidth:200,rowHeight:50},groups:[{name:"\u5173\u7cfb\u8282\u70b9",title:"\u5173\u7cfb\u8282\u70b9"},{name:"\u8baf\u98de\u670d\u52a1",title:"\u8baf\u98de\u670d\u52a1",graphHeight:300}],validateNode:function(e,n){var r,i=t.current,a=Object(H.a)(i.getNodes());try{for(a.s();!(r=a.n()).done;){var o=r.value;if("empty"===o.id){var c=e.getBBox(),s=o.getBBox();if(c.isIntersectWithRect(s)){var d=o.position(),l=d.x,h=d.y,u=o.size().width,b=e.size().width;e.position(l+(u-b)/2,h),o.addChild(e),o.fit();var f=new Event("fit");return dispatchEvent(f),!0}}}}catch(j){a.e(j)}finally{a.f()}return!1}});n.current=e,r.current.appendChild(e.container),(new D).load(e),(new G).load(e)}}),[]),Object(u.jsx)(A,{ref:r})}var X,A=l.a.div(B||(B=Object(c.a)(["\n  width: 200px;\n  border: 1px solid #f0f0f0;\n  position: relative; /* !!! */\n"])));function P(){var e=Object(d.b)("GRAPH_1"),t=Object(s.a)(e,2),n=t[0],r=t[1],a=Object(i.useRef)(null),o=Object(i.useRef)(null);return Object(i.useEffect)((function(){!function(e){var t=e.addNode(Object(O.a)(Object(O.a)({},E),{},{x:350,y:30,attrs:{label:{text:"\u5f00\u59cb"}}})),n=e.addNode(Object(O.a)(Object(O.a)({},E),{},{x:350,y:140,attrs:{label:{text:"\u7ed3\u675f"}}})),r=e.addNode(Object(O.a)(Object(O.a)({},E),{},{id:"plus",x:367,y:80,width:13,height:13,attrs:{label:{text:"+"}}})),i={attrs:{line:{stroke:"#1890FF",sourceMarker:"circle"}}};e.addEdge(Object(O.a)(Object(O.a)({},i),{},{source:r,target:n}));var a=function(){console.log("delete empty node")};e.on("node:click",(function(o){var c=o.node;if("plus"===c.id){var s=e.addNode(new F(a));n.translate(void 0,100),r.hide(),e.addEdge(Object(O.a)(Object(O.a)({},i),{},{source:t,target:s})),e.addEdge(Object(O.a)(Object(O.a)({},i),{},{source:s,target:n}))}else"delete"===c.id&&console.log("clicked delete")}))}(a.current),r(a.current)}),[n]),Object(u.jsxs)(S,{children:[Object(u.jsx)(b,{graphRef:a}),Object(u.jsx)(L,{graphRef:a,stencilRef:o})]})}var S=l.a.div(X||(X=Object(c.a)(["\n  display: flex;\n  flex-direction: row-reverse;\n  width: 100%;\n"])));function T(){return Object(u.jsx)(P,{})}o.a.render(Object(u.jsx)(T,{}),document.getElementById("root"))}},[[76,1,2]]]);
//# sourceMappingURL=main.36a8fe81.chunk.js.map